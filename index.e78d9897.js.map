{"mappings":"AAGA,MAAMA,EAAOC,SAASC,cAAc,gBAC9BC,EAAUF,SAASC,cAAc,YACjCE,EAAU,4FAA4FJ,EAAKK,SAASC,YAAYC,yCA4BtIP,EAAKQ,iBAAiB,UAEtB,SAAoBC,GAGlB,GAFAA,EAAMC,iBAEkC,KAApCV,EAAKK,SAASC,YAAYC,MAAc,OAC5CJ,EAAQQ,UAAY,ICvCEC,EDwCdR,ECvCDS,MAAMD,GAAKE,MAAKC,IACrB,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAMF,EAAIG,YAEtB,OAAOH,EAAII,MAAM,KDoChBL,MAAKM,IACJC,QAAQC,IAAIF,GACLjB,EAAQoB,mBAAmB,YAvBxC,SAAgBR,GACd,MAAMS,EAAMC,OAAOC,OAAOX,GAC1B,IAAK,MAAMK,KAAQI,EACjB,GAAoB,iBAATJ,EACT,OAAOA,EACJO,KAAIC,IACH,MEzBD,oDADeC,EF0BCD,GEvBAE,sBAAsBD,EAAOE,gJAIjBF,EAAOG,yHAIPH,EAAOI,4HAIPJ,EAAOK,gIAIPL,EAAOM,+DAnBrC,IAAiBN,CF0BM,IAErBO,KAAK,G,CAeuCC,CAAOjB,OAEvDkB,MAAMjB,QAAQkB,MAAM,cC7ClB,IAAiB3B,C","sources":["src/index.js","src/api.js/fetchApi.js","src/api.js/pattern.js"],"sourcesContent":["import { pattern } from './api.js/pattern';\nimport { fechApi } from './api.js/fetchApi';\nconst axios = require('axios');\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst URL_API = `https://pixabay.com/api/?key=36116088-deee45cedc6b935fbf33378b4&orientation=horizontal&q=${form.elements.searchQuery.value}&image_type=photo&safesearch=true`;\nconst config = {\n  method: 'GET',\n  headers: {\n    'cache-control': 'max-age=86400',\n    'content-language': 'en',\n    'content-type': 'application/json',\n    'last-modified': 'Sun, 07 May 2023 12:50:28 GMT',\n    'last-modified': 'Sun, 07 May 2023 12:50:28 GMT',\n    'x-ratelimit-limit': '100',\n    'x-ratelimit-remaining': '99',\n    'x-ratelimit-reset': '0.6',\n  },\n};\n\nfunction render(res) {\n  const arr = Object.values(res);\n  for (const data of arr) {\n    if (typeof data === 'object') {\n      return data\n        .map(item => {\n          return pattern(item);\n        })\n        .join('');\n    }\n  }\n}\n\nform.addEventListener('submit', showSearch);\n\nfunction showSearch(event) {\n  event.preventDefault();\n\n  if (form.elements.searchQuery.value === '') return;\n  gallery.innerHTML = '';\n  fechApi(URL_API, config)\n    .then(data => {\n      console.log(data);\n      return gallery.insertAdjacentHTML('beforeEnd', render(data));\n    })\n    .catch(console.error('not found'));\n}\n// axios\n//   .get('/user')\n//   .then(function (response) {\n//     // handle success\n//     console.log(response);\n//   })\n//   .catch(function (error) {\n//     // handle error\n//     console.log(error);\n//   })\n//   .finally(function () {\n//     // always executed\n//   });\n","export function fechApi(url) {\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.statusText);\n    }\n    return res.json();\n  });\n}\n","export function pattern(object) {\n  return `\n    <div class=\"photo-card\">\n      <img src=\"${object.webformatURL}\" alt=\"${object.user}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b>\n          <span class=\"statistics\">${object.likes}</span>\n        </p>\n        <p class=\"info-item\">\n          <b>Views</b>\n          <span class=\"statistics\">${object.views}</span>\n        </p>\n        <p class=\"info-item\">\n          <b>Comments</b>\n          <span class=\"statistics\">${object.comments}</span>\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads</b>\n          <span class=\"statistics\">${object.downloads}</span>\n        </p>\n      </div>\n    </div>\n  `;\n}\n"],"names":["$1f0dc3b9307be026$var$form","document","querySelector","$1f0dc3b9307be026$var$gallery","$1f0dc3b9307be026$var$URL_API","elements","searchQuery","value","addEventListener","event","preventDefault","innerHTML","url","fetch","then","res","ok","Error","statusText","json","data","console","log","insertAdjacentHTML","arr","Object","values","map","item","object","webformatURL","user","likes","views","comments","downloads","join","$1f0dc3b9307be026$var$render","catch","error"],"version":3,"file":"index.e78d9897.js.map"}